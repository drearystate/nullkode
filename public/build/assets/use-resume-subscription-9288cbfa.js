import{r as d,cE as S,j as a,c as E,an as D,a as j,al as N,M as F,I as K,J as q,K as J,b as L,t as B,d as z,s as T,e as W}from"./main-337de3ae.js";import{C as P}from"./OpenInNew-0dd35369.js";function H(t){const e=d.useRef(null);return S(()=>{e.current=t},[t]),d.useCallback((...n)=>{const s=e.current;return s==null?void 0:s(...n)},[])}function X(t){let[e,n]=d.useState(t),s=d.useRef(null),o=H(()=>{if(!s.current)return;let r=s.current.next();if(r.done){s.current=null;return}e===r.value?o():n(r.value)});S(()=>{s.current&&o()});let c=H(r=>{s.current=r(e),o()});return[e,c]}function G(){return typeof window.ResizeObserver<"u"}function Q(t){const{ref:e,box:n,onResize:s}=t;d.useEffect(()=>{let o=e==null?void 0:e.current;if(o)if(G()){const c=new window.ResizeObserver(r=>{r.length&&s()});return c.observe(o,{box:n}),()=>{o&&c.unobserve(o)}}else return window.addEventListener("resize",s,!1),()=>{window.removeEventListener("resize",s,!1)}},[s,e,n])}function U(t){const{isCurrent:e,sizeStyle:n,isMenuTrigger:s,isClickable:o,isDisabled:c,onSelected:r,className:R,isMenuItem:x,isLink:i}=t,p=typeof t.children=="function"?t.children({isMenuItem:x}):t.children;if(x)return p;const g=s?{}:{tabIndex:i&&!c?0:void 0,role:i?"link":void 0,"aria-disabled":i?c:void 0,"aria-current":e&&i?"page":void 0,onClick:()=>r==null?void 0:r()};return a.jsxs("li",{className:E(`relative inline-flex min-w-0 flex-shrink-0 items-center justify-start ${n==null?void 0:n.font}`,(!o||c)&&"pointer-events-none",!e&&c&&"text-disabled"),children:[a.jsx("div",{...g,className:E(R,"cursor-pointer overflow-hidden whitespace-nowrap rounded px-8",!s&&"py-4 hover:bg-hover",!s&&i&&"outline-none focus-visible:ring"),children:p}),e===!1&&a.jsx(P,{size:n==null?void 0:n.icon,className:E(c?"text-disabled":"text-muted")})]})}const Y=D(a.jsx("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHorizOutlined"),Z=1,ee=10;function oe(t){const{size:e="md",children:n,isDisabled:s,className:o,currentIsClickable:c,isNavigation:r}=t,{trans:R}=j(),x=te(e),i=[];N.Children.forEach(n,l=>{N.isValidElement(l)&&i.push(l)});const p=d.useRef(null),g=d.useRef(null),[y,k]=X(i.length),C=d.useCallback(()=>{const l=f=>{var V;const m=g.current;if(!m)return;const u=Array.from(m.children);if(!u.length)return;const v=m.offsetWidth,w=i.length>f;let b=0,h=0,M=ee;if(b+=u.shift().offsetWidth,h++,w&&(b+=((V=u.shift())==null?void 0:V.offsetWidth)??0,M--),b>=v&&h--,u.length>0){const $=u.pop();$.style.overflow="visible",b+=$.offsetWidth,b<v&&h++,$.style.overflow=""}for(const $ of u.reverse())b+=$.offsetWidth,b<v&&h++;return Math.max(Z,Math.min(M,h))};k(function*(){yield i.length;const f=l(i.length);yield f,f<i.length&&f>1&&(yield l(f))})},[g,n,k]);Q({ref:p,onResize:C}),S(C,[n]);let I=i;if(i.length>y){const l=i.length-1;I=[a.jsx(U,{sizeStyle:x,isMenuTrigger:!0,children:a.jsxs(F,{selectionMode:"single",selectedValue:l,children:[a.jsx(K,{"aria-label":"â€¦",disabled:s,size:x.btn,children:a.jsx(Y,{})}),a.jsx(q,{children:i.map((v,w)=>{const b=l===w;return a.jsx(J,{value:w,onSelected:()=>{var h,M;b||(M=(h=v.props).onSelected)==null||M.call(h)},children:d.cloneElement(v,{isMenuItem:!0})},w)})})]})},"menu")];const m=[...i];let u=y;y>1&&(I.unshift(m.shift()),u--),I.push(...m.slice(-u))}const O=I.length-1,_=I.map((l,f)=>{const m=f===O,u=!m||c;return d.cloneElement(l,{key:l.key||f,isCurrent:m,sizeStyle:x,isClickable:u,isDisabled:s,isLink:r&&l.key!=="menu"})}),A=r?"nav":"div";return a.jsx(A,{className:E(o,"w-full min-w-0"),"aria-label":R({message:"Breadcrumbs"}),ref:p,children:a.jsx("ol",{ref:g,className:E("flex flex-nowrap justify-start",x.minHeight),children:_})})}function te(t){switch(t){case"sm":return{font:"text-sm",icon:"sm",btn:"sm",minHeight:"min-h-36"};case"lg":return{font:"text-lg",icon:"md",btn:"md",minHeight:"min-h-42"};case"xl":return{font:"text-xl",icon:"md",btn:"md",minHeight:"min-h-42"};default:return{font:"text-base",icon:"md",btn:"md",minHeight:"min-h-42"}}}function ce(){const{trans:t}=j();return L({mutationFn:e=>ne(e),onSuccess:(e,n)=>{B(n.delete?t(z("Subscription deleted.")):t(z("Subscription cancelled.")))},onError:e=>T(e)})}function ne({subscriptionId:t,...e}){return W.post(`billing/subscriptions/${t}/cancel`,e).then(n=>n.data)}function le(){const{trans:t}=j();return L({mutationFn:e=>se(e),onSuccess:()=>{B(t(z("Subscription renewed.")))},onError:e=>T(e)})}function se({subscriptionId:t}){return W.post(`billing/subscriptions/${t}/resume`).then(e=>e.data)}export{H as $,oe as B,Y as M,U as a,le as b,ce as u};
//# sourceMappingURL=use-resume-subscription-9288cbfa.js.map
